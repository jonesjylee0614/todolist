# 任务列表优化功能测试检查清单

**测试日期**：2025-11-07  
**测试范围**：所有新增和优化的功能

---

## 📋 测试项目分类

### 一、文字层级与布局
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 标题显示 | 16px，字重600，颜色清晰 | 超长标题是否截断或换行 |
| 描述显示 | 13px，灰色，最多2行 | 无描述时布局是否正常 |
| 状态标签 | 11px，带圆点指示器 | 不同状态颜色是否正确 |
| 日期显示 | 11px，正确格式（今天/明天/日期） | 无日期时是否隐藏 |
| 完成时间 | 历史卡片显示"X天前" | 刚完成的任务是否显示"刚刚" |
| 卡片不透明度 | 历史卡片60%透明 | hover时是否恢复 |

#### 边界情况测试
- [ ] 标题长度 > 50 字符
- [ ] 描述长度 > 200 字符
- [ ] 描述包含多行换行符
- [ ] 标题和描述都为空（不应发生）
- [ ] 日期格式异常
- [ ] completedAt 为 null

---

### 二、编辑按钮功能
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 按钮显示 | 笔形图标，灰色，hover变蓝 | 历史任务不显示 |
| 点击反馈 | 打开编辑模态框 | 快速连续点击是否正常 |
| 模态框数据 | 自动填充当前任务数据 | 数据为空时是否有默认值 |
| 保存编辑 | 更新任务，关闭模态框 | 网络失败时是否有提示 |
| 取消编辑 | 不保存，关闭模态框 | 已修改数据是否丢失 |

#### 边界情况测试
- [ ] 编辑时删除所有内容
- [ ] 编辑时网络中断
- [ ] 快速多次点击编辑按钮
- [ ] 在编辑模态框打开时刷新页面
- [ ] 编辑历史任务（按钮不应显示）

---

### 三、三点菜单与扩展操作
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 菜单按钮 | 三点图标，hover变亮 | 历史任务不显示 |
| 菜单打开 | 淡入动画，显示4个选项 | 快速连续点击 |
| 菜单关闭 | 点击外部或选择操作后关闭 | ESC键是否关闭 |
| 延期操作 | 日期改为明天，Toast提示 | 无日期任务延期 |
| 移动操作 | 现在⇄未来切换 | 历史任务移动 |
| 置顶操作 | 显示提示（未完全实现） | 多次置顶 |
| 删除操作 | 确认后删除，Toast提示 | 删除历史任务 |

#### 边界情况测试
- [ ] 同时打开多个任务的菜单
- [ ] 延期已逾期的任务
- [ ] 延期无日期的任务
- [ ] 移动到相同状态
- [ ] 快速连续延期同一任务
- [ ] 删除正在编辑的任务
- [ ] 菜单打开时切换页面

---

### 四、默认日期设置
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 现在页面创建 | 默认日期为今天 | 跨日期时（23:59创建） |
| 未来页面创建 | 默认日期为明天 | 时区问题 |
| 快捷按钮 | 今天/明天/下周按钮正确 | 点击下周后再点今天 |
| 清除日期 | ✕按钮清除日期 | 清除后再设置 |
| 编辑模式 | 保留原日期 | 原日期为null |

#### 边界情况测试
- [ ] 在23:59:59创建任务
- [ ] 手动修改日期后创建
- [ ] 清除日期后直接提交
- [ ] 编辑任务时日期字段
- [ ] 切换"现在/未来"后日期是否更新

---

### 五、Hover 效果与动画
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 卡片 hover | 轻微放大、阴影加深 | 快速移入移出 |
| 按钮 hover | 颜色变化、边框加深 | 同时hover多个按钮 |
| 按钮 active | 轻微缩小（scale 0.95） | 快速点击 |
| 菜单动画 | 150ms淡入，向下 | 打开后立即关闭 |
| 页面切换 | 300ms淡入淡出滑动 | 快速切换多个页面 |
| 卡片进入 | （暂无实现） | - |

#### 边界情况测试
- [ ] 鼠标快速扫过多个任务卡片
- [ ] 动画未完成时触发新动画
- [ ] 页面切换动画中退出应用
- [ ] 低性能设备上的动画表现
- [ ] 触摸设备上的 hover 效果

---

### 六、按钮配色与视觉反馈
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 完成按钮 | 绿色主色调，半透明背景 | 不同主题下 |
| 编辑按钮 | 灰色次级色，hover变蓝 | 禁用状态 |
| 菜单按钮 | 灰色，hover变白 | - |
| 删除按钮 | 红色警告色 | - |
| 延期按钮 | 白色文字 | - |
| 移动按钮 | 白色文字 | - |

#### 边界情况测试
- [ ] 高对比度模式下的按钮可读性
- [ ] 色盲模式下的颜色区分
- [ ] 暗黑模式下的颜色对比度
- [ ] 按钮禁用状态的视觉表现

---

### 七、响应式与移动端适配
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 小屏幕布局 | 按钮不重叠，文字不溢出 | iPhone SE (375px) |
| 触摸交互 | 按钮区域足够大（44x44） | 手指点击误触 |
| 菜单位置 | 不超出屏幕边界 | 屏幕边缘任务的菜单 |
| 横屏模式 | 布局正常 | 平板横屏 |
| 长标题处理 | 自动换行或截断 | - |

#### 边界情况测试
- [ ] 320px 宽度（超小屏幕）
- [ ] 768px 宽度（平板）
- [ ] 1920px+ 宽度（大屏）
- [ ] 触摸设备上的菜单交互
- [ ] 长按是否触发系统菜单

---

### 八、性能与用户体验
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 大量任务渲染 | 流畅无卡顿 | 100+ 任务 |
| 菜单开关速度 | 即时响应 | 同时打开多个菜单 |
| 页面切换流畅度 | 无闪烁 | 快速连续切换 |
| 内存占用 | 无泄漏 | 长时间使用 |
| 网络慢速 | 有loading状态 | 2G网络 |

#### 边界情况测试
- [ ] 创建100个任务后的性能
- [ ] 长时间保持页面打开（1小时+）
- [ ] 网络延迟5秒以上
- [ ] 离线状态下的操作
- [ ] 多标签页同时打开

---

### 九、国际化与本地化
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 日期格式 | YYYY-MM-DD | 系统语言为英文时 |
| 相对时间 | "X天前"中文显示 | 刚刚、几秒前 |
| 时区处理 | 本地时区正确 | 跨时区旅行 |

#### 边界情况测试
- [ ] 系统语言非中文
- [ ] 时区为UTC+14或UTC-12
- [ ] 夏令时切换时

---

### 十、数据一致性
| 测试项 | 预期结果 | 边界情况 |
|--------|---------|----------|
| 延期后数据 | 日期更新，排序重新计算 | 延期后变成最近 |
| 移动后数据 | 状态更新，列表刷新 | 移动后列表为空 |
| 编辑后数据 | 实时更新卡片显示 | 编辑标题/描述/日期 |
| 删除后数据 | 卡片消失，Toast提示 | 删除后撤销 |
| 完成后数据 | 移动到历史，completedAt设置 | 立即查看历史 |

#### 边界情况测试
- [ ] 延期操作失败回滚
- [ ] 编辑时后端返回错误
- [ ] 删除时网络中断
- [ ] 快速连续操作同一任务
- [ ] 多设备同时修改同一任务

---

## ✅ 已知问题与限制

1. **置顶功能**
   - 状态：预留接口，未完全实现
   - 原因：需要后端支持 `pinned` 字段

2. **批量操作**
   - 状态：未实现
   - 计划：下一阶段开发

3. **拖拽排序**
   - 状态：未实现
   - 计划：下一阶段开发

4. **历史任务的菜单**
   - 状态：历史任务不显示菜单
   - 原因：历史任务只读

5. **卡片进入动画**
   - 状态：未实现
   - 原因：需要复杂的列表过渡

---

## 🧪 测试建议

### 手动测试步骤
1. **基础流程测试**
   - 创建任务（现在/未来）
   - 编辑任务
   - 延期任务
   - 移动任务
   - 完成任务
   - 删除任务
   - 查看历史

2. **边界情况测试**
   - 按上述清单逐项测试
   - 记录异常行为
   - 尝试极端输入

3. **性能测试**
   - 创建大量任务
   - 快速操作
   - 长时间使用

4. **兼容性测试**
   - Chrome、Firefox、Safari、Edge
   - iOS Safari、Android Chrome
   - 不同屏幕尺寸

### 自动化测试（建议）
```typescript
// 示例：TaskCard 单元测试
describe('TaskCard', () => {
  it('should render title with correct styles', () => {
    // 标题16px，字重600
  });
  
  it('should show edit button on hover', () => {
    // hover时显示编辑按钮
  });
  
  it('should open menu on three-dot click', () => {
    // 点击三点打开菜单
  });
  
  it('should postpone task to tomorrow', () => {
    // 延期功能测试
  });
  
  // ... 更多测试
});
```

---

## 📝 测试记录表

| 测试项 | 状态 | 问题描述 | 严重程度 | 修复状态 |
|--------|------|----------|----------|----------|
| 文字层级 | ✅ | - | - | - |
| 编辑按钮 | ✅ | - | - | - |
| 三点菜单 | ✅ | - | - | - |
| 延期功能 | ⏳ | 待测试 | - | - |
| 移动功能 | ⏳ | 待测试 | - | - |
| 默认日期 | ⏳ | 待测试 | - | - |
| Hover效果 | ⏳ | 待测试 | - | - |
| 页面动画 | ⏳ | 待测试 | - | - |

**图例**：
- ✅ 通过
- ❌ 失败
- ⏳ 待测试
- 🚧 部分通过

---

**编制人**：Claude (AI Assistant)  
**审核人**：待定  
**测试执行人**：待定

