# åˆ—è¡¨åˆ‡æ¢è°ƒè¯•ä¿®å¤

**ä¿®å¤æ—¶é—´**: 2025-11-07  
**é—®é¢˜**: ç‚¹å‡»åˆ‡æ¢åˆ—è¡¨æ²¡æœ‰å±•ç¤ºå‡ºæ¥

---

## ğŸ” é—®é¢˜åˆ†æ

ç”¨æˆ·åé¦ˆåˆ‡æ¢ç°åœ¨/æœªæ¥/å†å²æ ‡ç­¾æ—¶ï¼Œåˆ—è¡¨æ²¡æœ‰æ­£ç¡®æ˜¾ç¤ºã€‚

## ğŸ› ï¸ ä¿®å¤æªæ–½

### 1. ä¿®å¤ visibleColumns è®¡ç®—

**é—®é¢˜**ï¼šä¹‹å‰ä½¿ç”¨äº† `active.value`ï¼ˆä¸€ä¸ª computedï¼‰ï¼Œå¯¼è‡´å“åº”å¼æ›´æ–°å¯èƒ½æœ‰é—®é¢˜ã€‚

**ä¿®å¤**ï¼šç›´æ¥ä½¿ç”¨ `props.active`

```typescript
// ä¿®å¤å‰
const active = computed(() => props.active);
const visibleColumns = computed(() => {
  return columnConfigs.value.filter((column) => column.status === active.value);
});

// ä¿®å¤å
const visibleColumns = computed(() => {
  return columnConfigs.value.filter((column) => column.status === props.active);
});
```

### 2. ä¿®å¤ highlight å±æ€§

```typescript
// ä¿®å¤å‰
:highlight="column.status === active"

// ä¿®å¤å
:highlight="column.status === props.active"
```

### 3. æ·»åŠ è°ƒè¯•æ—¥å¿—

æ·»åŠ äº†å¤šä¸ª console.log æ¥è·Ÿè¸ªæ•°æ®æµï¼š

1. **è·¯ç”±å˜åŒ–ç›‘å¬**ï¼š
```typescript
watch(() => props.active, (newStatus) => {
  console.log('Active status changed to:', newStatus);
  tasksStore.load(newStatus);
}, { immediate: true });
```

2. **åˆ—é…ç½®è®¡ç®—**ï¼š
```typescript
console.log('Column configs:', configs.map(c => ({ 
  status: c.status, 
  taskCount: c.tasks.length 
})));
```

3. **å¯è§åˆ—è®¡ç®—**ï¼š
```typescript
console.log('Visible columns:', filtered, 'Active:', props.active);
```

---

## ğŸ“‹ ä¿®æ”¹æ–‡ä»¶

- `frontend/src/modules/tasks/components/TaskBoard.vue`

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. åˆ‡æ¢åˆ° Console æ ‡ç­¾
3. åœ¨åº”ç”¨ä¸­ç‚¹å‡»"ç°åœ¨"ã€"æœªæ¥"ã€"å†å²"æ ‡ç­¾
4. è§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºï¼š
   - åº”è¯¥çœ‹åˆ° "Active status changed to: xxx"
   - åº”è¯¥çœ‹åˆ° "Column configs: [...]" æ˜¾ç¤ºä»»åŠ¡æ•°é‡
   - åº”è¯¥çœ‹åˆ° "Visible columns: [...]" æ˜¾ç¤ºå½“å‰æ¿€æ´»çš„åˆ—

5. æ£€æŸ¥åˆ—è¡¨æ˜¯å¦æ­£å¸¸æ˜¾ç¤ºï¼š
   - åˆ‡æ¢åˆ°"ç°åœ¨"åº”è¯¥æ˜¾ç¤º now åˆ—è¡¨
   - åˆ‡æ¢åˆ°"æœªæ¥"åº”è¯¥æ˜¾ç¤º future åˆ—è¡¨
   - åˆ‡æ¢åˆ°"å†å²"åº”è¯¥æ˜¾ç¤º history åˆ—è¡¨

---

## ğŸ”§ è°ƒè¯•å»ºè®®

å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ï¼š

1. **æ§åˆ¶å°æ—¥å¿—**ï¼š
   - `Active status changed to:` åé¢çš„å€¼æ˜¯å¦æ­£ç¡®ï¼ˆnow/future/historyï¼‰
   - `Column configs` ä¸­å„çŠ¶æ€çš„ taskCount æ˜¯å¦æ­£ç¡®
   - `Visible columns` æ˜¯å¦åªåŒ…å«ä¸€ä¸ªåˆ—é…ç½®

2. **ç½‘ç»œè¯·æ±‚**ï¼š
   - åˆ‡æ¢æ ‡ç­¾æ—¶æ˜¯å¦å‘èµ·äº† API è¯·æ±‚
   - API å“åº”æ˜¯å¦åŒ…å«æ•°æ®

3. **Store çŠ¶æ€**ï¼š
   - åœ¨ Vue DevTools ä¸­æ£€æŸ¥ tasksStore
   - æŸ¥çœ‹ listIds å’Œ tasksById çš„å†…å®¹
   - æŸ¥çœ‹ loading çŠ¶æ€æ˜¯å¦æ­£ç¡®

---

## ğŸ¯ å¯èƒ½çš„åŸå› 

å¦‚æœä¿®å¤åé—®é¢˜ä»å­˜åœ¨ï¼Œå¯èƒ½çš„åŸå› ï¼š

1. **åç«¯æ•°æ®é—®é¢˜**ï¼š
   - åç«¯è¿”å›çš„æ•°æ®ä¸ºç©º
   - API è¯·æ±‚å¤±è´¥

2. **Store çŠ¶æ€é—®é¢˜**ï¼š
   - tasksById æ²¡æœ‰æ­£ç¡®æ›´æ–°
   - listIds æ²¡æœ‰æ­£ç¡®æ˜ å°„

3. **è·¯ç”±é…ç½®é—®é¢˜**ï¼š
   - props.active æ²¡æœ‰æ­£ç¡®ä¼ é€’
   - è·¯ç”±å‚æ•°ä¸åŒ¹é…

---

## ğŸ“ åç»­ä¼˜åŒ–

æµ‹è¯•å®Œæˆåï¼Œå¯ä»¥ç§»é™¤è°ƒè¯•æ—¥å¿—ï¼š

```typescript
// ç§»é™¤è¿™äº› console.log
console.log('Active status changed to:', newStatus);
console.log('Column configs:', ...);
console.log('Visible columns:', ...);
```

---

**çŠ¶æ€**: ğŸ”„ å¾…æµ‹è¯•éªŒè¯

